 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/quiz.html b/quiz.html
index 7fa647fbd51773cd7689dafb79a0d51bbfb16ca9..a03d081a994c455b84473168385e8707ff4ee796 100644
--- a/quiz.html
+++ b/quiz.html
@@ -1,128 +1,228 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width,initial-scale=1" />
   <title>Quiz — PSC Guru</title>
 
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
 
   <link rel="stylesheet" href="header.css">
 
   <style>
     :root{
-      --text:#0f2d1f; --muted:#5f726a; --brand:#0f8346; --error:#d24747;
-      --card:#fff; --shadow:0 20px 40px rgba(30,70,50,.15);
-      --border: rgba(0,0,0,.06); --bg:#f5fbf7;
+      --bg:#f7f4ff;
+      --card:#ffffff;
+      --card-soft:rgba(255,255,255,.88);
+      --stroke:rgba(124,99,255,.18);
+      --text:#1d1556;
+      --muted:#6f6a96;
+      --brand:#7c63ff;
+      --brand-600:#5b4dff;
+      --brand-700:#4a3adb;
+      --success:#3ac17f;
+      --error:#ff6680;
+      --option:#f1edff;
+      --option-strong:#dfd6ff;
+      --shadow:0 24px 60px rgba(91,77,255,.16);
+      --shadow-soft:0 18px 40px rgba(91,77,255,.14);
     }
-    *{box-sizing:border-box} body{margin:0;font:400 16px/1.55 Inter,system-ui;background:var(--bg);color:var(--text)}
-    .wrap{max-width:980px;margin:0 auto;padding:22px 16px 60px}
 
-    .title{font-weight:800;font-size:28px;margin:6px 0 14px}
+    *{box-sizing:border-box}
+    body{
+      margin:0;
+      font:400 16px/1.55 'Inter', system-ui, -apple-system;
+      color:var(--text);
+      background:
+        radial-gradient(420px 320px at 12% 0%, rgba(255,139,211,.24), transparent),
+        radial-gradient(540px 360px at 88% -8%, rgba(124,99,255,.26), transparent),
+        var(--bg);
+      min-height:100vh;
+    }
+    body::before{
+      content:"";
+      position:fixed;inset:0;pointer-events:none;
+      background:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160" opacity="0.12"%3E%3Ctext x="0" y="120" font-size="140" font-family="Inter" fill="%235b4dff"%3E?%3C/text%3E%3C/svg%3E') repeat;
+      background-size:220px;
+      mix-blend-mode:screen;
+    }
 
-    .progress-wrap{display:flex;align-items:center;gap:12px;margin:6px 0 12px}
-    .progress{height:8px;background:#e7f3ec;border-radius:999px;flex:1;overflow:hidden}
-    .bar{height:100%;width:0;background:#b8e5cc;border-radius:999px;transition:width .3s ease}
-    .paging{color:var(--muted);font-weight:800}
+    .wrap{max-width:720px;margin:0 auto;padding:28px 18px 80px;position:relative;z-index:1}
 
-    .qcard{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)}
-    .qhead{color:var(--muted);font-size:14px;margin-bottom:8px}
-    .qtext{font-size:18px;font-weight:700;margin:6px 0 12px}
+    .title{font-weight:800;font-size:30px;margin:8px 0 14px}
 
-    .opts{display:grid;gap:10px}
-    .opt{
-      border:1px solid var(--border);border-radius:12px;padding:12px 14px;background:#fff;
-      cursor:pointer; user-select:none;
+    .progress-wrap{
+      display:flex;align-items:center;gap:14px;
+      background:var(--card-soft);
+      border:1px solid var(--stroke);
+      padding:12px 16px;
+      border-radius:16px;
+      box-shadow:var(--shadow-soft);
+      margin:8px 0 18px;
     }
-    .opt:hover{box-shadow:0 6px 16px rgba(30,70,50,.10)}
-    .opt.correct{border-color:#8bd2a8;background:#ecfff4}
-    .opt.wrong{border-color:#f1b6b6;background:#fff4f4}
-
-    .controls{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
-    .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:800}
-    .btn.primary{background:linear-gradient(180deg,#0f8346,#0b5f34);color:#fff;border:none}
-    .btn:disabled{opacity:.5;cursor:not-allowed}
+    .pill-subject{
+      display:inline-flex;align-items:center;gap:6px;
+      padding:6px 12px;
+      border-radius:999px;
+      background:rgba(124,99,255,.16);
+      font-weight:700;
+      color:var(--brand-700);
+      font-size:13px;
+    }
+    .progress{height:10px;background:rgba(124,99,255,.12);border-radius:999px;flex:1;overflow:hidden}
+    .bar{height:100%;width:0;background:linear-gradient(135deg,var(--brand),var(--brand-600));border-radius:999px;transition:width .3s ease}
+    .paging{color:var(--muted);font-weight:700;font-size:14px}
+
+    .qcard{
+      background:var(--card);
+      border:1px solid var(--stroke);
+      border-radius:26px;
+      padding:24px 22px 26px;
+      box-shadow:var(--shadow);
+    }
+    .qhead{color:var(--muted);font-size:15px;margin-bottom:12px;font-weight:600}
+    .qtext{font-size:22px;font-weight:800;margin:10px 0 18px;line-height:1.4}
 
-    .splash{position:fixed;inset:0;display:none;place-items:center;background:rgba(255,255,255,.6);backdrop-filter:blur(6px);z-index:2000}
+    .opts{display:grid;gap:12px}
+    .opt{
+      border:2px solid transparent;
+      border-radius:18px;
+      padding:14px 16px;
+      background:var(--option);
+      cursor:pointer;
+      user-select:none;
+      font-weight:600;
+      color:var(--text);
+      transition:transform .2s ease, box-shadow .2s ease, border .2s ease;
+      display:flex;align-items:center;gap:14px;
+    }
+    .opt:hover{transform:translateY(-2px);box-shadow:0 18px 30px rgba(91,77,255,.16)}
+    .opt.correct{background:rgba(58,193,127,.18);border-color:rgba(58,193,127,.7);box-shadow:0 20px 34px rgba(58,193,127,.22)}
+    .opt.wrong{background:rgba(255,102,128,.16);border-color:rgba(255,102,128,.6);box-shadow:0 20px 34px rgba(255,102,128,.22)}
+    .opt-tag{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:12px;background:rgba(124,99,255,.18);color:var(--brand-700);font-weight:800;flex-shrink:0}
+    .opt.correct .opt-tag{background:rgba(58,193,127,.28);color:var(--success)}
+    .opt.wrong .opt-tag{background:rgba(255,102,128,.28);color:var(--error)}
+    .opt-text{flex:1}
+
+    .controls{display:flex;gap:12px;justify-content:flex-end;margin-top:18px;flex-wrap:wrap}
+    .btn{padding:11px 16px;border-radius:14px;border:1px solid var(--stroke);background:rgba(255,255,255,.92);cursor:pointer;font-weight:800;color:var(--brand-700);box-shadow:none;transition:transform .2s ease, box-shadow .2s ease}
+    .btn:hover{transform:translateY(-2px);box-shadow:0 16px 26px rgba(91,77,255,.16)}
+    .btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-600));color:#fff;border:none;box-shadow:0 18px 34px rgba(91,77,255,.25)}
+    .btn:disabled{opacity:.4;cursor:not-allowed;box-shadow:none;transform:none}
+
+    .splash{position:fixed;inset:0;display:none;place-items:center;background:rgba(26,16,94,.3);backdrop-filter:blur(6px);z-index:2000}
     .splash.on{display:grid}
-    .spinner{width:64px;height:64px;border-radius:50%;border:6px solid #d9f2e6;border-top-color:#0f8346;animation:spin 1s linear infinite}
+    .spinner{width:64px;height:64px;border-radius:50%;border:6px solid rgba(124,99,255,.2);border-top-color:var(--brand);animation:spin 1s linear infinite}
     @keyframes spin{to{transform:rotate(360deg)}}
 
-    .notice{padding:12px;border-radius:10px;border:1px solid #f7d6b5;background:#fff7ed;color:#7a4c22}
+    .notice{padding:14px;border-radius:16px;border:1px solid rgba(255,102,128,.2);background:rgba(255,244,248,.88);color:#a83f5e}
+
+    .summary-card{
+      text-align:center;
+      padding:32px 24px;
+      border-radius:30px;
+      background:linear-gradient(160deg, rgba(124,99,255,.16), rgba(255,255,255,.92));
+      border:1px solid var(--stroke);
+      box-shadow:var(--shadow);
+      position:relative;
+      overflow:hidden;
+    }
+    .summary-card::before{
+      content:"";position:absolute;inset:auto -80px -120px auto;width:300px;height:300px;border-radius:50%;background:radial-gradient(closest-side, rgba(124,99,255,.25), transparent 70%);
+    }
+    .summary-icon{width:120px;height:120px;border-radius:50%;margin:0 auto 18px;background:radial-gradient(circle at 30% 30%, rgba(255,139,211,.45), transparent 65%), linear-gradient(160deg,#f6edff,#ffffff);display:grid;place-items:center;box-shadow:0 20px 40px rgba(91,77,255,.18)}
+    .summary-icon svg{width:60px;height:60px;color:var(--brand)}
+    .summary-card h2{margin:0 0 6px;font-size:28px;font-weight:800}
+    .summary-card p{margin:0;color:var(--muted);font-weight:600}
+    .score-pill{display:inline-flex;align-items:center;gap:8px;padding:10px 18px;border-radius:999px;background:#fff;border:1px solid var(--stroke);font-weight:800;margin:18px 0;color:var(--brand-700);box-shadow:var(--shadow-soft)}
+    .summary-actions{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap}
+    .details-table{margin-top:28px;border-radius:22px;border:1px solid var(--stroke);background:#fff;box-shadow:var(--shadow-soft);overflow:hidden}
+    .details-table-inner{max-height:320px;overflow:auto}
+    .details-table table{width:100%;border-collapse:collapse;font-size:14px}
+    .details-table th,.details-table td{padding:12px 14px;text-align:left;border-bottom:1px solid rgba(124,99,255,.12)}
+    .details-table thead{background:rgba(124,99,255,.08);color:var(--text)}
+    .details-table tbody tr:last-child td{border-bottom:none}
+    .status{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-weight:700;font-size:12px}
+    .status.success{background:rgba(58,193,127,.18);color:var(--success)}
+    .status.error{background:rgba(255,102,128,.18);color:var(--error)}
+    .status.neutral{background:rgba(124,99,255,.15);color:var(--brand-700)}
   </style>
 </head>
 <body>
   <!-- shared header -->
   <script defer src="site-header.js"></script>
 
   <div class="wrap">
     <h1 class="title">Quiz</h1>
 
     <div class="progress-wrap" id="progressWrap" hidden>
+      <span class="pill-subject" id="subjectPill">Quiz</span>
       <div class="progress"><div class="bar" id="bar"></div></div>
       <span class="paging" id="paging">Page 1 / 1</span>
     </div>
 
     <div id="panel"></div>
 
     <div class="controls" id="controls" hidden>
       <button class="btn" id="prevBtn">← Previous</button>
       <button class="btn" id="revealBtn">Show Answer</button>
       <button class="btn primary" id="nextBtn">Next →</button>
     </div>
   </div>
 
   <div class="splash" id="splash"><div class="spinner" aria-label="Loading"></div></div>
 
   <script>
     /* ================== CONFIG ================== */
     const GS_SHEET_ID = "16iIOLKAkFzXD1ja7v6b7_ZUKVjbcsswX8LfJ_D0S57o";
     const CATEGORIES_TAB = "Categories";
 
     // Helpers
     const $ = sel => document.querySelector(sel);
     const panel = $('#panel');
     const splash = $('#splash');
     const bar = $('#bar');
     const paging = $('#paging');
     const progressWrap = $('#progressWrap');
+    const subjectPill = $('#subjectPill');
     const prevBtn = $('#prevBtn');
     const nextBtn = $('#nextBtn');
     const revealBtn = $('#revealBtn');
     const controls = $('#controls');
 
     const params = new URLSearchParams(location.search);
     const sheet = params.get('sheet');
     const mode = params.get('mode'); // "random" or undefined
     const N = params.get('n');       // requested number of Qs
 
     let questions = [];
     let results = [];
     let i = 0, score = 0, revealed = false;
+    let subjectName = '';
 
     // Splash helpers
     function showSplash(on){ splash.classList.toggle('on', !!on); }
 
     function stripGVizJSON(txt){ const s=txt.indexOf('{'), e=txt.lastIndexOf('}'); return JSON.parse(txt.slice(s,e+1)); }
     async function gviz(tab){
       const url = `https://docs.google.com/spreadsheets/d/${GS_SHEET_ID}/gviz/tq?sheet=${encodeURIComponent(tab)}&tq=${encodeURIComponent("select *")}`;
       const res = await fetch(url,{cache:"no-store"}); if(!res.ok) throw new Error("GViz failed");
       const raw = await res.text(); const json = stripGVizJSON(raw);
       const cols = json.table.cols.map(c => (c.label||"").trim().toLowerCase());
       const rows = json.table.rows.map(r => (r.c||[]).map(c => (c&&c.v)!=null ? String(c.v) : ""));
       return {cols, rows};
     }
 
     async function chooseRandomSheet(){
       const {cols, rows} = await gviz(CATEGORIES_TAB);
       const idxTab = cols.findIndex(t => /(get|sheet|tab)/.test(t));
       const sheets = rows.map(r => (r[idxTab]||"").trim()).filter(Boolean);
       if(!sheets.length) throw new Error("No categories found");
       return sheets[Math.floor(Math.random()*sheets.length)];
     }
 
     function shuffle(arr){
       const a = [...arr];
       for(let i=a.length-1;i>0;i--){
@@ -140,178 +240,208 @@
 
       return rows.map(r=>{
         const q = (r[idxQ]||"").trim();
         const ans = (r[idxA]||"").trim();
         const opts = [r[idxA1], r[idxB1], r[idxC1], r[idxD1]].map(x=> (x||"").trim()).filter(Boolean);
 
         if(!q || !opts.length || !ans) return null;
 
         // find correct option index with robust matching
         let correct = -1;
         const ansU = ans.toUpperCase();
         if(['A','B','C','D'].includes(ansU)) correct = "ABCD".indexOf(ansU);
         else correct = opts.findIndex(o => o.trim().toLowerCase() === ans.trim().toLowerCase());
         if(correct < 0) correct = 0; // fallback
 
         // shuffle options while keeping correctness
         const pairs = opts.map((t,idx)=>({t,idx}));
         const shuffled = shuffle(pairs);
         const newOpts = shuffled.map(p=>p.t);
         const newCorrect = shuffled.findIndex(p=>p.idx===correct);
 
         return { q, opts:newOpts, correct:newCorrect };
       }).filter(Boolean);
     }
 
+    const formatSubject = (name='') => {
+      if(!name) return 'Quiz';
+      return name.replace(/[-_]+/g,' ').replace(/\b\w/g, c => c.toUpperCase());
+    };
+
     function sample(arr, n){
       if(!n || String(n).toUpperCase()==='N') return arr;
       const a=[...arr]; const out=[];
       for(let k=0;k<n && a.length;k++){
         out.push(a.splice(Math.floor(Math.random()*a.length),1)[0]);
       }
       return out;
     }
 
     function render(){
       if(!questions.length){
         panel.innerHTML = `<div class="notice">No questions available.</div>`;
         controls.hidden = true;
         progressWrap.hidden = true;
         return;
       }
       const q = questions[i];
       progressWrap.hidden = false;
+      if(subjectPill){ subjectPill.textContent = formatSubject(subjectName || (sheet || 'Quiz')); }
       bar.style.width = `${((i+1)/questions.length)*100}%`;
       paging.textContent = `Page ${i+1} / ${questions.length}`;
 
       panel.innerHTML = `
         <div class="qcard">
           <div class="qhead">Question ${i+1} / ${questions.length}</div>
           <div class="qtext">${q.q}</div>
           <div class="opts">
-            ${q.opts.map((o,idx)=>`<div class="opt" data-idx="${idx}">${o}</div>`).join('')}
+            ${q.opts.map((o,idx)=>`<div class="opt" data-idx="${idx}">
+              <span class="opt-tag">${String.fromCharCode(65+idx)}</span>
+              <span class="opt-text">${o}</span>
+            </div>`).join('')}
           </div>
         </div>
       `;
 
       controls.hidden = false;
       prevBtn.disabled = i===0;
       nextBtn.textContent = (i===questions.length-1) ? 'Finish →' : 'Next →';
       revealed = false;
 
       // Interaction
       panel.querySelectorAll('.opt').forEach(el=>{
         el.addEventListener('click', ()=>{
           if(revealed) return;
           const sel = Number(el.dataset.idx);
           results[i] = {sel, correct: sel === q.correct};
           if(sel === q.correct){ el.classList.add('correct'); score++; }
           else{
             el.classList.add('wrong');
             panel.querySelector(`.opt[data-idx="${q.correct}"]`)?.classList.add('correct');
           }
           revealed = true;
         });
       });
     }
 
     prevBtn.addEventListener('click', ()=>{
       if(i>0){ i--; render(); }
     });
     nextBtn.addEventListener('click', ()=>{
       if(i<questions.length-1){ i++; render(); }
       else summary();
     });
     
     // Quit early: show summary
     const quitBtn = $('#quitBtn');
-    quitBtn.addEventListener('click', ()=> summary(true));
+    if(quitBtn){ quitBtn.addEventListener('click', ()=> summary(true)); }
 
     revealBtn.addEventListener('click', ()=>{
       if(revealed) return;
       const q = questions[i];
       panel.querySelector(`.opt[data-idx="${q.correct}"]`)?.classList.add('correct');
       revealed = true;
     });
 
     
     function summary(quit=false){
       progressWrap.hidden = true;
       controls.hidden = true;
       const attempted = results.filter(x=>x).length;
       const total = questions.length;
       const percent = total ? Math.round((score/total)*100) : 0;
-      const rows = questions.map((q, idx)=>{
-        const r = results[idx];
-        const status = r ? (r.correct ? '✅' : '❌') : '—';
-        const sel = (r && q.opts[r.sel]) ? q.opts[r.sel] : '—';
-        return `<tr>
-          <td style="padding:8px 10px;border-bottom:1px solid #eee">${idx+1}</td>
-          <td style="padding:8px 10px;border-bottom:1px solid #eee">${q.q}</td>
-          <td style="padding:8px 10px;border-bottom:1px solid #eee">${sel}</td>
-          <td style="padding:8px 10px;border-bottom:1px solid #eee"><b>${q.opts[q.correct]}</b></td>
-          <td style="padding:8px 10px;border-bottom:1px solid #eee">${status}</td>
-        </tr>`;
-      }).join("");
+    const rows = questions.map((q, idx)=>{
+      const r = results[idx];
+      const sel = (r && q.opts[r.sel]) ? q.opts[r.sel] : '—';
+      let statusLabel = '<span class="status neutral">Skipped</span>';
+      if(r){ statusLabel = r.correct ? '<span class="status success">Correct</span>' : '<span class="status error">Wrong</span>'; }
+      return `<tr>
+        <td>${idx+1}</td>
+        <td>${q.q}</td>
+        <td>${sel}</td>
+        <td><strong>${q.opts[q.correct]}</strong></td>
+        <td>${statusLabel}</td>
+      </tr>`;
+    }).join("");
 
       panel.innerHTML = `
-        <div class="qcard">
-          <div class="qtext">Summary ${quit ? "(Quit)" : ""}</div>
-          <p class="qhead">Score: <b>${score}</b> / ${total} (${percent}%) &nbsp; • &nbsp; Attempted: ${attempted}</p>
-          <div style="max-height:320px;overflow:auto;border:1px solid #eee;border-radius:10px">
-            <table style="width:100%;border-collapse:collapse;font-size:14px">
+        <div class="summary-card">
+          <div class="summary-icon">
+            <svg viewBox="0 0 72 72" fill="none" stroke="currentColor" stroke-width="3">
+              <path d="M18 12h36v8a14 14 0 0 1-14 14h-8a14 14 0 0 1-14-14v-8Z" stroke-linecap="round" stroke-linejoin="round"/>
+              <path d="M18 12H8v6a12 12 0 0 0 12 12" stroke-linecap="round" stroke-linejoin="round"/>
+              <path d="M54 12h10v6a12 12 0 0 1-12 12" stroke-linecap="round" stroke-linejoin="round"/>
+              <path d="M36 34v10" stroke-linecap="round"/>
+              <path d="M26 58h20" stroke-linecap="round" stroke-linejoin="round"/>
+              <path d="M24 44h24v10H24z" stroke-linejoin="round"/>
+            </svg>
+          </div>
+          <h2>${quit ? 'Quiz Ended Early' : 'Congratulations!'}</h2>
+          <p>${quit ? 'Thanks for playing — here is how you did.' : 'Great job, Kency! Keep up the momentum.'}</p>
+          <div class="score-pill">
+            <span>Your Score</span>
+            <strong>${score} / ${total}</strong>
+            <span>(${percent}%)</span>
+          </div>
+          <p style="margin-top:-6px">Attempted ${attempted} questions • Correct ${score}</p>
+          <div class="summary-actions">
+            <button class="btn" onclick="location.href='index.html'">← Back to Home</button>
+            <button class="btn primary" onclick="location.reload()">Play again</button>
+          </div>
+        </div>
+        <div class="details-table">
+          <div class="details-table-inner">
+            <table>
               <thead>
-                <tr style="background:#f8fff9">
-                  <th style="text-align:left;padding:8px 10px;border-bottom:1px solid #eee">#</th>
-                  <th style="text-align:left;padding:8px 10px;border-bottom:1px solid #eee">Question</th>
-                  <th style="text-align:left;padding:8px 10px;border-bottom:1px solid #eee">Your answer</th>
-                  <th style="text-align:left;padding:8px 10px;border-bottom:1px solid #eee">Correct</th>
-                  <th style="text-align:left;padding:8px 10px;border-bottom:1px solid #eee">Result</th>
+                <tr>
+                  <th>#</th>
+                  <th>Question</th>
+                  <th>Your answer</th>
+                  <th>Correct</th>
+                  <th>Result</th>
                 </tr>
               </thead>
               <tbody>${rows}</tbody>
             </table>
           </div>
-          <div class="controls" style="justify-content:flex-start;margin-top:16px">
-            <button class="btn" onclick="location.href='index.html'">← Home</button>
-            <button class="btn primary" onclick="location.reload()">Play again</button>
-          </div>
         </div>
       `;
     }
 
 
     async function boot(){
       try{
         showSplash(true);
         let targetSheet = sheet;
 
         if(!targetSheet && mode === 'random'){
           targetSheet = await chooseRandomSheet();
         }
         if(!targetSheet){
           showSplash(false);
           panel.innerHTML = `<div class="notice">No category selected.</div>`;
           return;
         }
 
+        subjectName = targetSheet;
+
         // Fetch questions
         const {cols, rows} = await gviz(targetSheet);
         let qs = mapToQuestions(cols, rows);
         qs = shuffle(qs);                 // random order of questions
         qs = sample(qs, N);               // sample N if provided
 
         questions = qs;
         i = 0; score = 0;
         render();
       } catch (err){
         console.error(err);
         panel.innerHTML = `<div class="notice">Failed to load questions. Check sheet access / names.</div>`;
       } finally{
         showSplash(false);
       }
     }
 
     boot();
   </script>
 </body>
 </html>
 
EOF
)
